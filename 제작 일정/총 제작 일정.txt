스타크래프트에 존재하는 것들 - 유닛, 건물, 자원(가스/미네랄), 맵

유닛 - 공격, 이동, 홀드, 멈추기

건물 - 생산 및 에드온

자원 - 미네랄/가스->가스 생산 건물 짓기 이후 생산가능

맵 - 맵 에디터(일반적인 타일과 시작지점을 배치, 시작지점에는 첫 스타트 건물과 일꾼 4마리가 존재한다.)


01일부터 시작

01/01 - v01
로고씬, 메인화면 제작
 - 게임을 실행하면 나오는 장면 -> 배경화면 위에 : 싱글 게임/멀티 플레이/에디터/나가기 선택 장면, 선택을 위해 해당 rect에 마우스를 올리면, 움직이는 이미지가 뜬다.

01/02 - v02
종족 선택씬 제작, 인게임 UI_Frame 제작 및 드래그 표시구현
 - 싱글 게임을 선택시 -> 테란 / 프로토스 / 저그를 선택할 수 있게한다. 들어가면 빈 맵이고, 기본적인 UI가 나오도록 구현한다.
추가로 마우스를 구현하고, 마우스의 이동에 따라 맵이 전환되도록 마우스 이미지와 카메라를 구현한다.

01/03 - v03
미니맵 시스템 구현
 - 미니맵을 선택시 실제 카메라가 해당 미니맵의 좌표에 따라 움직이도록 구현 / 미니맵에 카메라가 보고있는 RECT를 표시한다.

01/04 - v04
 - 플레이어(scv) 구현, 유닛의 이동 구현 및 맵 이동, 이동시 wayPoint를 사용하여 이동하도록 구현. (A*)
 유닛의 이동시, 출발시 가속도와 도착시 감속도가 존재. 최대 속도 또한 가지고 있다.

01/05 - v05
 - 이펙트 매니저 구현, 이펙트를 어떤 식으로 작성할 것인가에 대해 구현
 이펙트에 대한 정보를 미리 저장하고, 이를 특정 위치에서 불러오도록 singleton으로 제작

01/06 - v06
 - 미네랄 / 베스핀 구현, 자원캐기 구현. 많이 캔 미네랄은 크기가 줄어들도록한다. 추가로 자원 캘때, 이펙트 넣기
 가스는 나중에 구현. 캔 미네랄은 scv가 들고 있도록한다.

01/07 - v07
 - 건물 구현 : 건물의 생성과정 및 완성, 띄우기, 이동, 그림자까지 구현, 이때 생성과정에서 scv가 움직이며 생성하도록 구현
 건물은 구현시, 실제 건물이 차지하는 공간과 건설에 필요한 공간이 다름

01/08 - v08
 - 유닛 구현 : 사용할 유닛 생성 및 다방향 이동, 그림자 구현

01/09 - v09
 - 유닛 생산 구현 : 생산 건물 UI구현 / 선택시 생산과정 보이게하기, 생산 로딩 구현

01/10 - v10
 - 유닛/건물 체력바 구현, 공격모션 구현 및 불릿 매니저 구현, 불릿 매니저를 통해 총알(발사체)의 정보를 관리한다.

01/11 - v011
 - 이펙트 적용 및 탱크 스플래시 공격 시스템, 시즈모드 구현

01/12 - v12
 - 마우스로 범위 선택 / 선택된 유닛 그룹화 구현

01/13 - v13
 - 적군 구현, 감지 및 추적 AI 구현

01/14 - v14
 - 디펜스 유즈맵 구현, 사운드, 초상화, UI 개선

01/15 - v15
 - 맵 타일 매니저/에디터 구현, 에디터로 만든 맵을 가지고 게임을 할 수 있도록 함.



이제부터 추가사항

01/13 ~ 01/14 - v15 ~ v16
 - 멀티 게임 구현, 적을 구현하여 싸울 수 있도록 함.
 - 간단한 AI구현

01/15 ~ 01/16 - v17
 - 구현 밀린 사항 구현 및 비디오 제작



프레임드랍 정보
 - 다중 선택 시 프레임 드랍
 - 큰 유닛(배틀같은거) 렌더 시 드랍
 

 

 

 ※ A* 알고리즘 정보
 
tilemgr에 tile 정보가 벡터로 들어있다.
1. 유닛은 움직이는 순간에(instate :: move) tilemgr에 시작지점, 목표지점과 리스트 포인터를 넘긴다.
2. tilemgr은 openlist에 시작지점을 넣는다.
3. openlist에서 하나를 빼서 주변 타일 8개를 탐색 및 비용을 평가하여 우선순위 큐에 넣는다.
4. 뺀 값은 닫힌 목록에 넣는다.

while(끝날때까지)
{
5. 우선순위 큐에서 가장 앞 노드를 빼고 닫힌 목록에 넣는다.
6. 8방향 조사 중 닫힌목록과, 이동 불가 타일을 제외한다.
7. 목표 타일이 있는지 검사한다. 
break; 목표 타일에 접근하면 부모노드를 추적하여 역순으로 스택에 삽입한다.
return; 우선순위큐가 비어버리면 접근이 불가능한 타일이다.
8. 그외 노드는 우선순위큐에 넣되 중복값은 비용을 비교하여 작은 값으로 교체한다.
}

연산을 줄이기 위해 살짝 변형함
 - 저그크립 퍼지는것처럼 순서를 지정 (F = G + H 에서 H의 강도를 약하게 함)
 - 조사한 목록은 우선순위큐에 넣되 바로 닫힌 목록에도 추가

  
여러 지상유닛을 연산할 때는 하나의 웨이포인트를 공유하도록 군집 처리